!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["redux-async-utils"]=e():t["redux-async-utils"]=e()}(this,function(){return webpackJsonpredux_async_utils([1,0],[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.createAsyncActionsStateChecker=e.asyncActionsState=void 0;var o=n(2);Object.keys(o).forEach(function(t){"default"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})});var i=n(5);Object.keys(i).forEach(function(t){"default"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var s=n(1);Object.keys(s).forEach(function(t){"default"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})});var a=n(4),c=r(a),u=n(3),f=r(u);e.asyncActionsState=c.default,e.createAsyncActionsStateChecker=f.default},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ASYNC_UTILS_MARKER="ASYNC_UTILS_MARKER",e.ASYNC_UTILS_STATE="ASYNC_STATE",e.ASYNC_UTILS_STATE_FOR="ASYNC_STATE_FOR",e.ASYNC_UTILS_STATE_GROUP="ASYNC_STATE_GROUP",e.PENDING="ASYNC_UTILS/PENDING",e.DONE="ASYNC_UTILS/DONE",e.FAILURE="ASYNC_UTILS/FAILURE",e.INVALIDATED="ASYNC_UTILS/INVALIDATED"},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){var n;return n={type:c.PENDING},r(n,c.ASYNC_UTILS_MARKER,!0),r(n,c.ASYNC_UTILS_STATE_FOR,t),r(n,c.ASYNC_UTILS_STATE_GROUP,e),r(n,c.ASYNC_UTILS_STATE,c.PENDING),n}function i(t){var e=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];if(!e){var n;return n={type:c.DONE},r(n,c.ASYNC_UTILS_MARKER,!0),r(n,c.ASYNC_UTILS_STATE_FOR,t),r(n,c.ASYNC_UTILS_STATE,c.DONE),n}return e[c.ASYNC_UTILS_MARKER]=!0,e[c.ASYNC_UTILS_STATE_FOR]=t,e[c.ASYNC_UTILS_STATE]=c.DONE,e}function s(t){var e,n=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return e={type:c.FAILURE,error:n},r(e,c.ASYNC_UTILS_MARKER,!0),r(e,c.ASYNC_UTILS_STATE_FOR,t),r(e,c.ASYNC_UTILS_STATE,c.FAILURE),e}function a(t){var e;return e={type:c.INVALIDATED},r(e,c.ASYNC_UTILS_MARKER,!0),r(e,c.ASYNC_UTILS_STATE_FOR,t),r(e,c.ASYNC_UTILS_STATE,c.INVALIDATED),e}Object.defineProperty(e,"__esModule",{value:!0}),e.pendingActionCreator=o,e.doneActionCreator=i,e.failureActionCreator=s,e.invalidateActionCreator=a;var c=n(1)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=void 0;if(!t.asyncActionsState)throw new Error("redux-async-utils: createAsyncActionsStateChecker requires asyncActionsState reducer to be in the store");for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;n>o;o++)r[o-1]=arguments[o];return r.length?!function(){var n={};r.forEach(function(e){if("object"===("undefined"==typeof e?"undefined":i(e))&&e.group){var r=t.asyncActionsState.groups[e.group];r&&r.length&&r.forEach(function(e){var r=t.asyncActionsState.asyncActionsStates[e];n[r[a.ASYNC_UTILS_STATE_FOR]]=r})}else if("string"==typeof e){var o=t.asyncActionsState.asyncActionsStates[t.asyncActionsState.indexes[e]];n[e]=o}}),e=new c({asyncActionsState:n})}():e=new c({allDone:t.asyncActionsState.digested===t.asyncActionsState.asyncActionsStates.length,errors:t.asyncActionsState.failedActionsIndexes.map(function(e){return t.asyncActionsState.asyncActionsStates[e].error})}),e}Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.default=o;var a=n(1),c=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];r(this,t),this.allDone=null,this.errors=null,this.asyncActionsState=null,this.allDone=e.allDone,this.errors=e.errors,this.asyncActionsState=e.asyncActionsState}return s(t,[{key:"hasDone",value:function(t){var e=this;if(!this.asyncActionsState)return this.allDone;var n=!1;if(t){if(this.asyncActionsState[t]){var r=this.asyncActionsState[t].state;n=r!==a.PENDING}}else{var o=Object.keys(this.asyncActionsState);n=o.length>0&&o.filter(function(t){return e.asyncActionsState[t]&&e.asyncActionsState[t].state!==a.PENDING&&e.asyncActionsState[t].state!==a.INVALIDATED}).length===o.length}return n}},{key:"isPending",value:function(t){var e=this;if(!this.asyncActionsState)return!this.allDone;var n=!1;if(t){if(this.asyncActionsState[t]){var r=this.asyncActionsState[t].state;n=r===a.PENDING}}else{var o=Object.keys(this.asyncActionsState);n=o.length>0&&o.filter(function(t){return e.asyncActionsState[t]&&e.asyncActionsState[t].state===a.PENDING}).length>0}return n}},{key:"getErrors",value:function(){var t=this;return this.asyncActionsState?Object.keys(this.asyncActionsState).filter(function(e){return t.asyncActionsState[e]&&t.asyncActionsState[e].state===a.FAILURE}).map(function(e){return t.asyncActionsState[e].error}):this.errors}}]),t}()},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(){var t=arguments.length<=0||void 0===arguments[0]?c:arguments[0],e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=t;if(e[a.ASYNC_UTILS_MARKER]){var o=function(){var o=e[a.ASYNC_UTILS_STATE],i=e.error||null,c=e[a.ASYNC_UTILS_STATE_FOR],u=e[a.ASYNC_UTILS_STATE_GROUP],f=void 0,A=void 0;if(n={asyncActionsStates:t.asyncActionsStates.slice(0),indexes:s({},t.indexes),groups:s({},t.groups),errorsCount:t.errorsCount,failedActionsIndexes:t.failedActionsIndexes.slice(0),successCount:t.successCount,digested:t.digested},"undefined"!=typeof n.indexes[c]?(A=n.indexes[c],f=s({},n.asyncActionsStates[A])):n.asyncActionsStates.forEach(function(t,e){t[a.ASYNC_UTILS_STATE_FOR]===c&&(A=e,f=s({},n.asyncActionsStates[A])),n.indexes[t[a.ASYNC_UTILS_STATE_FOR]]=e}),f&&o!==a.PENDING&&f.state===a.INVALIDATED)return{v:n};if("undefined"==typeof A){var S,l=(S={},r(S,a.ASYNC_UTILS_STATE_FOR,c),r(S,"state",o),r(S,"error",i),S);n.asyncActionsStates.push(l),n.indexes[c]=n.asyncActionsStates.length-1,A=n.asyncActionsStates.length-1,u&&(n.groups[u]?(n.groups[u]=n.groups[u].slice(0),n.groups[u].push(A)):n.groups[u]=[A])}else{var y;n.asyncActionsStates[A]=(y={},r(y,a.ASYNC_UTILS_STATE_FOR,c),r(y,"state",o),r(y,"error",i),y)}f&&f.state!==a.PENDING&&f.state!==o&&(o!==a.INVALIDATED&&n.digested--,f.state===a.DONE&&n.successCount--,f.state===a.FAILURE&&(n.errorsCount--,n.failedActionsIndexes.splice(n.failedActionsIndexes.indexOf(A),1))),o!==a.INVALIDATED||f&&f.state!==a.PENDING||n.digested++,o!==a.DONE||f&&f.state===a.DONE||(n.digested++,n.successCount++),o!==a.FAILURE||f&&f.state===a.FAILURE||(n.digested++,n.errorsCount++,n.failedActionsIndexes.push(A))}();if("object"===("undefined"==typeof o?"undefined":i(o)))return o.v}return n}Object.defineProperty(e,"__esModule",{value:!0}),e.initialState=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=o;var a=n(1),c=e.initialState={asyncActionsStates:[],indexes:{},groups:{},errorsCount:0,successCount:0,failedActionsIndexes:[],digested:0}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t,e,n){var r=arguments.length<=3||void 0===arguments[3]?!0:arguments[3],i=arguments.length<=4||void 0===arguments[4]?!1:arguments[4];if(!t)throw new Error("createActionCreatorFromPromise: manageAsyncStateFor is required,it can be a function or a string");if(!e)throw new Error("createActionCreatorFromPromise: getPromise is required");var c=void 0;return function(){for(var u=arguments.length,A=Array(u),S=0;u>S;S++)A[S]=arguments[S];return function(u,S){var l=void 0,y=void 0,d=void 0;if("function"==typeof t){var _=A.slice(0);_.push(S),d=t.apply(void 0,o(_))}else d=t;if("object"===("undefined"==typeof d?"undefined":s(d))?(l=d.key,y=d.group):"string"==typeof d&&(l=d),r!==!1){if("boolean"==typeof r&&f(S(),l))return new Promise(function(){});if("string"==typeof r&&f(S(),r))return new Promise(function(){});if("object"===("undefined"==typeof r?"undefined":s(r))&&r.length&&f.apply(void 0,[S()].concat(o(r))))return new Promise(function(){});if("object"===("undefined"==typeof r?"undefined":s(r))&&"undefined"==typeof r.length&&f(S(),r))return new Promise(function(){})}var p=(new Date).getTime()+(Math.random()+1e3);c=p,u((0,a.pendingActionCreator)(l,y));var T=A.slice(0);return T.push(u,S),e.apply(void 0,o(T)).then(function(t){if(!i||c===p){var e=A.slice(0);return e.push(t,S),u((0,a.doneActionCreator)(l,n.apply(void 0,o(e)))),t}}).catch(function(t){return i&&c!==p?void 0:(u((0,a.failureActionCreator)(l,t)),t)})}}}Object.defineProperty(e,"__esModule",{value:!0}),e.isPending=e.hasDone=void 0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};e.createActionCreatorFromPromise=i;var a=n(2),c=n(3),u=r(c),f=(e.hasDone=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];return u.default.apply(void 0,[t].concat(n)).hasDone()},e.isPending=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];return u.default.apply(void 0,[t].concat(n)).isPending()})}])});